{% extends 'base_qliksense.html' %}
{% load static fields_tags %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>

    {% if object_list %}
    <table class="table">
      <thead>
        <tr>
          {% if campos.enumerar > -1 %}
          <th scope="col">#</th>
          {% endif %}

          {% for campo in campos.lista %}
          <th scope="col">{% get_verbose_field_name object_list.0 campo %}</th>
          {% endfor %}

          {% if campos.opciones %}
          <th scope="col">{{ campos.opciones }}</th>
          {% endif %}
        </tr>
      </thead>

      <tbody>
        {% for object in object_list %}
        <tr>
          {% if campos.enumerar > -1 %}
          <th scope="row">
            {% if campos.enumerar == 0 %}
              {{ forloop.counter0 }}
            {% else %}
              {{ forloop.counter }}
            {% endif %}
          </th>
          {% endif %}

          {% for campo in campos.lista %}
          <td>{% get_object_value object campo %}</td>
          {% endfor %}

          {% if campos.opciones %}
          <th scope="col">
            {% if object.url_detail %}
            <a href="{{ object.url_detail }}" class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ opciones.detail }}">
              <img src="{% static 'images/qs_detail.png' %}" alt="{{ opciones.detail }}" height="25px">
            </a>
            {% endif %}
            {% if object.url_update %}
            <a href="{{ object.url_update }}" class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ opciones.update }}">
              <img src="{% static 'images/qs_update.png' %}" alt="{{ opciones.update }}" height="25px">
            </a>
            {% endif %}
            {% if object.url_delete %}
            <a href="{{ object.url_delete }}" class="btn btn-danger" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ opciones.delete }}">
              <img src="{% static 'images/qs_delete.png' %}" alt="{{ opciones.delete }}" height="25px">
            </a>
            {% endif %}
          </th>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>

    {% else %}
    <div class="alert alert-warning" role="alert">
      {{ mensaje.vacio }}
    </div>
    {% endif %}

{% endblock %}